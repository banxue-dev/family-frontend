
  <div class="layui-form" lay-filter="gold_personalInfo_add_form" id="gold_personalInfo_add_form"style="padding: 20px 30px 0 0;">
    <input type="hidden" name="customerId">
    <div class="layui-form-item">
      <label class="layui-form-label">客户名称</label>
        <div class="layui-input-block">
        <input type="radio" name="openStatus" value="0" title="开盘">
        <input type="radio" name="openStatus" value="1" title="停盘" >
        <input type="radio" name="openStatus" value="2" title="自动" checked="">
      </div>
    </div><div class="layui-form-item">
      <label class="layui-form-label">客户名称</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="customerName" value="" lay-verify="required" placeholder="请输入客户名称" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>
    <input type="hidden" name="hideOrgCode" id="hideOrgCode">
    
    <div class="layui-form-item">
      <label class="layui-form-label">选择组织</label>
      <div class="layui-input-inline">
       <script type="text/html" template lay-type='post' lay-url="{{layui.setter.backuprequesturl}}org/v1.0/api/getOrgList" 
        lay-done="layui.$('#userAddOrgCode').val(layui.$('#hideOrgCode').val());layui.form.render('select', 'gold_personalInfo_add_form');">

          <select name="orgCode" id="userAddOrgCode" lay-filter="selectOrg">
            {{# layui.each(d.data, function(index, item){ }}
                  <option value='{{item.orgCode}}'  >{{item.orgName}}</option>
                
            {{#  }); }}

            
         </select>
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">联系人</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="customerContactPersonal" value="" lay-verify="required" placeholder="请输入联系人" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">联系电话</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="customerContactPhone" value="" lay-verify="phone" placeholder="请输入联系电话" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>

    <div class="layui-form-item">
      <label class="layui-form-label">联系地址</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="customerAddr" value="" lay-verify="required" placeholder="请输入地址" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">地址地图</label>
      <div class="layui-input-inline" style="width:80px;">
        <input name="customerAddrImg"  readonly="readonly" id="customerAddrImg" placeholder="图片地址" value="" class="layui-input">
      </div>
      <div class="layui-input-inline layui-btn-container" style="width: auto;">
        <button type="button" class="layui-btn layui-btn-primary " id="customer_addr_img_upload" bind-input='customerAddrImg' >
          <i class="layui-icon">&#xe67c;</i>上传
        </button>
        <button class="layui-btn layui-btn-primary" layadmin-event="avartatPreview" bind-input='customerAddrImg'>查看</button >
      </div>
   </div>
   <div class="layui-form-item">
      <label class="layui-form-label">logo</label>
      <div class="layui-input-inline" style="width:80px;">
        <input name="customerLogo"  id="customerLogo" readonly="readonly" placeholder="logo地址" value="" class="layui-input">
      </div>
      <div class="layui-input-inline layui-btn-container" style="width: auto;">
        <button type="button" class="layui-btn layui-btn-primary" id="customer_logo_upload" bind-input='customerLogo'>
          <i class="layui-icon">&#xe67c;</i>上传
        </button>
        <button class="layui-btn layui-btn-primary" layadmin-event="avartatPreview" bind-input='customerLogo'>查看</button >
      </div>
   </div>
    <div class="layui-form-item">
      <label class="layui-form-label">邮编</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <input type="text" name="customerMailCode" value="" lay-verify="required" placeholder="请输入邮编" autocomplete="off" class="layui-input">
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">内容样式</label>
      <div class="layui-input-inline">
        
        <div class="layui-input-inline">
        <div class="layui-input-inline" style="width: 120px;">
          <input type="text" readonly="readonly"  name="contentColorType" value="" placeholder="请选择颜色" class="layui-input" id="contentColorType">
        </div>
        <div class="layui-inline" style="left: -11px;">
          <div id="content_color_pick"></div>
        </div>
      </div>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">分列样式</label>
      <div class="layui-input-inline">
        <div class="layui-input-inline" style="width: 120px;">
          <input type="text" readonly="readonly" name="cellBackColor" value="" placeholder="请选择颜色" class="layui-input" id="cellBackColor">
        </div>
        <div class="layui-inline" style="left: -11px;">
          <div id="cell_color_pick"></div>
        </div>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">主题样式</label>
      <div class="layui-input-inline">
        <script type="text/html" template>
          <select name="themBackColor" id="themBackColor" lay-filter="selectThemBackColor">
                  <option value='1'  >淡泥土</option>
                  <option value='2'  >青花色</option>
                  <option value='3'  >海蓝色</option>
                  <option value='4'  >天蓝色</option>
         </select>
        </script>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label">描述</label>
      <div class="layui-input-inline">
          <textarea name="customerDesc" lay-verify="required" style="width: 400px; height: 150px;" autocomplete="off" class="layui-textarea"></textarea>
      </div>
    </div>
    <div class="layui-form-item">
      <label class="layui-form-label"></label>
      <div class="layui-input-inline">
        <input type="button" lay-submit lay-filter="layuiadmin-app-form-submit" value="确认" class="layui-btn">
      </div>
    </div>
  </div>
<script type="text/javascript">
  layui.define([ 'upload','colorpicker'], function(exports){
    var $ = layui.$
  ,layer = layui.layer
  ,admin=layui.admin
  ,colorpicker=layui.colorpicker
  ,upload = layui.upload;
   //表单赋值
  colorpicker.render({
    elem: '#cell_color_pick',
    color:'#590f5c'
    ,done: function(color){
      $('#cellBackColor').val(color);
    },change: function(color){
      $('#cellBackColor').val(color);
    }
  });
  console.log('----'+$('#contentColorType').val());
  colorpicker.render({
    elem: '#content_color_pick',
    color:'#590f5c'
    ,done: function(color){
      $('#contentColorType').val(color);
    },change: function(color){
      $('#contentColorType').val(color);
    }
  });
  //上传头像

  var th=upload.render({
    url: layui.setter.backuprequesturl+'/personal/v1.0/uploadHead'
    ,elem: '#customer_addr_img_upload'
    ,headers:layui.setter.headers
    ,data:layui.setter.authParams
    ,done: function(res){
      if(res.code == layui.setter.response.statusCode.ok){
        $('#'+th.config.elem.attr('bind-input')).val(res.data);
      } else {
        layer.msg(res.msg, {icon: 5});
      }
    }
  });
   var tb=upload.render({
    url: layui.setter.backuprequesturl+'/personal/v1.0/uploadHead'
    ,elem: '#customer_logo_upload'
    ,headers:layui.setter.headers
    ,data:layui.setter.authParams
    ,done: function(res){
      if(res.code == layui.setter.response.statusCode.ok){
        $('#'+tb.config.elem.attr('bind-input')).val(res.data);
      } else {
        layer.msg(res.msg, {icon: 5});
      }
    }
  });
  
  //查看头像
  admin.events.avartatPreview = function(othis){
    var src = $('#'+$(othis).attr('bind-input')).val();
    if(!src){
      layui.layer.msg('请先上传图片');
      return ;
    }
    layer.photos({
      photos: {
        "title": "查看头像" //相册标题
        ,"data": [{
          "src": layui.setter.backuprequesturl+src //原图地址
        }]
      }
      ,shade: 0.01
      ,closeBtn: 1
      ,anim: 5
    });
  };
  })
</script>